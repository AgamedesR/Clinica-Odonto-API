generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Secretario {
  id    Int    @id @default(autoincrement())
  nome  String
  idade Int

  @@map("secretarios")
}

model Dentista {
  id            Int        @id @default(autoincrement())
  cro           String     @unique
  nome          String
  especialidade String
  pacientes     Paciente[]
  consultas     Consulta[] @relation("DentistaConsultas")

  @@map("dentistas")
}

model Paciente {
  id         Int        @id @default(autoincrement())
  nome       String
  email      String
  cpf        String     @unique
  telefone   String
  dentistaId Int
  dentista   Dentista   @relation(fields: [dentistaId], references: [id])
  consultas  Consulta[]

  @@map("pacientes")
}

model Consulta {
  id         Int      @id @default(autoincrement())
  dentistaId Int
  dentista   Dentista @relation("DentistaConsultas", fields: [dentistaId], references: [id])
  pacienteId Int
  paciente   Paciente @relation(fields: [pacienteId], references: [id])

  @@map("consultas")
}
